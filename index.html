<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  
  <!-- bootstrap -->
  <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet"  id="style">-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  
  <!-- highlight.js -->
  <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" rel="stylesheet" id="code-style">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script>
  hljs.LANGUAGES.r=function(a){var b="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[a.HCM,{b:b,l:b,k:{keyword:"function if in break next repeat else for return switch while try tryCatch|10 stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...|10",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[a.BE],r:0},{cN:"string",b:"'",e:"'",c:[a.BE],r:0}]}}(hljs); </script>
  <!--<script type="text/javascript", src="https://yandex.st/highlightjs/7.3/languages/r.min.js"></script>-->
  
  <!-- Manific Popup -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/0.8.9/jquery.magnific-popup.min.js"></script>
  
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script defer="defer">
  // Function to generate the dynamic table of contents
  jQuery.fn.generate_TOC = function () {
    var base = $(this[0]);
  
    var selectors = ['h1', 'h2', 'h3', 'h4'];
  
    var last_ptr = [{}, {}, {}, {}];
  
    var anchors = {};
  
    generate_anchor = function (text) {
      var test = text.replace(/\W/g, '_');
  
      while(test in anchors){
        //if no suffix, add one
        if(test.match(/_\d+$/) === null){
          test = test + "_2";
        }
        //else generate unique id for duplicates by adding one to the suffix
        else {
          test = test.replace(/_(\d+)$/, function(match, number){ var num=+number+1; return("_" + num) });
        }
      }
      anchors[test]=1;
      return(test);
    }
  
    $(selectors.join(',')).filter(function(index) { return $(this).parent().attr("id") != 'header'; }).each(function () {
  
      var heading = $(this);
      var idx = selectors.indexOf(heading.prop('tagName').toLowerCase());
      var itr = 0;
  
      while (itr <= idx) {
        if (jQuery.isEmptyObject(last_ptr[itr])) {
          last_ptr[itr] = $('<ul>').addClass('nav');
          if (itr === 0) {
            base.append(last_ptr[itr])
          } else {
            if(last_ptr[itr-1].children('li').length === 0){
              last_ptr[itr-1].append(last_ptr[itr]);
            }
            else {
              last_ptr[itr - 1].children('li').last().append(last_ptr[itr]);
            }
          }
        }
        itr++;
      }
      var anchor = generate_anchor(heading.text());
      heading.attr('id', anchor);
      var a = $('<a>')
      .text(heading.text())
      .attr('href', '#' + anchor);
  
    var li = $('<li>')
      .append(a);
  
    last_ptr[idx].append(li);
    for (i = idx + 1; i < last_ptr.length; i++) {
      last_ptr[i] = {};
    }
    });
  }
  /* run scripts when document is ready */
  $(function() {
    "use strict";
  
    var $window = $(window);
    var $body = $(document.body);
  
    /* size of thumbnails */
  
    var hidden_types = ['source']
    var output_types = ['output', 'message', 'warning', 'error']
  
    /* style tables */
    $('table').addClass('table table-striped table-bordered table-hover table-condensed');
  
    $('pre code').each(function(i, e) {
      hljs.highlightBlock(e);
    });
  
    /* Magnific Popup */
    $(".thumbnail").each(function(){
      $(this).magnificPopup({
        disableOn: 768,
        closeOnContentClick: true,
  
        type: 'image',
        items: {
          src: $(this).find('img').attr('src'),
        }
      });
    });
  
    function toggle_block(obj, show) {
      var span = obj.find('span');
      if(show === true){
        span.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        obj.next('pre').slideDown();
      }
      else {
        span.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        obj.next('pre').slideUp();
      }
    }
  
    function toggle_thumbnails(imgs, show){
      if(show === true){
        imgs.parents().show()
        imgs.slideDown();
      }
      else {
        imgs.slideUp(400, function(){ $(this).parent().hide(); });
      }
    }
  
    function global_toggle(obj){
      var type = obj.attr('type');
      var show = !obj.parent('li').hasClass('active');
      if(show === true){
        obj.parent('li').addClass('active');
      }
      else{
        obj.parent('li').removeClass('active');
      }
      if(type == 'figure'){
        toggle_thumbnails($('.thumbnail img'), show);
      }
      else {
        $('.toggle.' + type).each(function() { toggle_block($(this), show); });
      }
    }
  
    /* onclick toggle next code block */
    $('.toggle').click(function() {
      var span = $(this).find('span');
      toggle_block($(this), !span.hasClass('glyphicon-chevron-down'));
      return false
    })
  
    // global toggles
    $('.toggle-global').click(function(){
      var type = $(this).attr('type');
      if(type === 'all-source'){
          $('li a.source').each(function() {
            global_toggle($(this));
          });
        }
      else if(type === 'all-output'){
        $.each(output_types, function(i, val){
          console.log(val);
          global_toggle($('li a.' + val));
        });
      }
      else {
        console.log($(this));
        global_toggle($(this));
      }
      return false;
    });
    /* table of contents */
    if($(['h1', 'h2', 'h3', 'h4'].join(',')).length > 0){
      $('body > #wrap > .container > .row').append('<div class="col-md-2"><div id="toc" class="well sidebar sidenav affix hidden-print"/></div>');
      $('#toc').generate_TOC();
    }
  
    $.each(hidden_types, function(i, type) {
      $('li[type=' + type + ']').each(function(){ global_toggle($(this)); });
    });
  
    /* remove paragraphs with no content */
    $('p:empty').remove();
  
    $body.scrollspy({
      target: '.sidebar',
    });
  
    /* theme switch */
    $('.theme-switch').click(function(){
      var css = $('link[title=' + $(this).attr('title') + ']');
      $('#theme[rel=stylesheet]').attr('href', css.attr('href'));
      $('.theme-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
    /* code style switch */ //TODO use same function for both of these?
    $('.highlight-switch').click(function(){
      var css = $('link[title="' + $(this).attr('title') + '"]');
      $('#highlight[rel=stylesheet]').attr('href', css.attr('href'));
      $('.highlight-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
  
    //TODO refresh on show/hide
    $window.on('load', function () {
      $body.scrollspy('refresh');
    })
  
  });
  
  </script>
  <style>
  /* Knitr_bootstrap styles */
  #header {
    display: none !important;
    visibility: hidden !important;
  }
  #wrap .container-fluid {
    padding: 0;
    overflow: hidden;
  }
  .toggle{
    text-transform: capitalize;
  }
  
  .toggle-global{
    text-transform: capitalize;
  }
  
  /* Sticky footer styles */
  * {
    margin:0;
  }
  html,
  body {
      height: 100%;
      padding:0 !important;
      /* The html and body elements cannot have any padding or margin. */
      /*overflow-x: hidden;*/
  }
  
  /* Wrapper for page content to push down footer */
  #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
  }
  
  /* Set the fixed height of the footer here */
  #push,
  #footer {
      height: 120px;
  }
  
  #footer {
    text-align: center;
  }
  
  /* Top level subheader elements.  These are the first nested items underneath a header element. */
  .header li {
    font-size: 20px;
  }
  
  /* Makes the font smaller for all subheader elements. */
  .sub-header li {
      font-size: 12px;
  }
  
  button.thumbnails {
    margin-left:0px;
  }
  
  /*
   * Side navigation
   *
   * Scrollspy and affixed enhanced navigation to highlight sections and secondary
   * sections of docs content.
   */
  
  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }
  
  /* First level of nav */
  .sidenav {
    margin-top: 30px;
    margin-bottom: 30px;
    padding-top:    10px;
    padding-bottom: 10px;
    border-radius: 5px;
  }
  
  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    padding: 5px 20px;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    border-right: 1px solid;
  }
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    background-color: transparent;
    border-right: 1px solid;
  }
  
  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }
  
  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }
  
  /* Show and affix the side nav when space allows it */
  @media screen and (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix-top,
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 30px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media screen and (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix {
      width: 263px;
    }
  }
  
  #toc {
    padding: 10px 0px;
    margin:0;
    border:0;
  }
  
  
  .panel pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
  button + pre {
    margin: 0;
    padding: 0;
  }
  pre code {
    border-radius: 0;
  }
  /* Magnific Popup CSS */
  .mfp-bg {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1042;
    overflow: hidden;
    position: fixed;
    background: #0b0b0b;
    opacity: 0.8;
    filter: alpha(opacity=80); }
  
  .mfp-wrap {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1043;
    position: fixed;
    outline: none !important;
    -webkit-backface-visibility: hidden; }
  
  .mfp-container {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 0 8px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box; }
  
  .mfp-container:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle; }
  
  .mfp-align-top .mfp-container:before {
    display: none; }
  
  .mfp-content {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin: 0 auto;
    text-align: left;
    z-index: 1045; }
  
  .mfp-inline-holder .mfp-content,
  .mfp-ajax-holder .mfp-content {
    width: 100%;
    cursor: auto; }
  
  .mfp-ajax-cur {
    cursor: progress; }
  
  .mfp-zoom-out-cur,
  .mfp-zoom-out-cur .mfp-image-holder .mfp-close {
    cursor: -moz-zoom-out;
    cursor: -webkit-zoom-out;
    cursor: zoom-out; }
  
  .mfp-zoom {
    cursor: pointer;
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
    cursor: zoom-in; }
  
  .mfp-auto-cursor .mfp-content {
    cursor: auto; }
  
  .mfp-close,
  .mfp-arrow,
  .mfp-preloader,
  .mfp-counter {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none; }
  
  .mfp-loading.mfp-figure {
    display: none; }
  
  .mfp-hide {
    display: none !important; }
  
  .mfp-preloader {
    color: #cccccc;
    position: absolute;
    top: 50%;
    width: auto;
    text-align: center;
    margin-top: -0.8em;
    left: 8px;
    right: 8px;
    z-index: 1044; }
  
  .mfp-preloader a {
    color: #cccccc; }
  
  .mfp-preloader a:hover {
    color: white; }
  
  .mfp-s-ready .mfp-preloader {
    display: none; }
  
  .mfp-s-error .mfp-content {
    display: none; }
  
  button.mfp-close,
  button.mfp-arrow {
    overflow: visible;
    cursor: pointer;
    background: transparent;
    border: 0;
    -webkit-appearance: none;
    display: block;
    padding: 0;
    z-index: 1046;
    -webkit-box-shadow: none;
    box-shadow: none; }
  
  button::-moz-focus-inner {
    padding: 0;
    border: 0; }
  
  .mfp-close {
    width: 44px;
    height: 44px;
    line-height: 44px;
    position: absolute;
    right: 0;
    top: 0;
    text-decoration: none;
    text-align: center;
    opacity: 0.65;
    padding: 0 0 18px 10px;
    color: white;
    font-style: normal;
    font-size: 28px;
    font-family: Arial, Baskerville, monospace; }
    .mfp-close:hover, .mfp-close:focus {
      opacity: 1; }
    .mfp-close:active {
      top: 1px; }
  
  .mfp-close-btn-in .mfp-close {
    color: #333333; }
  
  .mfp-image-holder .mfp-close,
  .mfp-iframe-holder .mfp-close {
    color: white;
    right: -6px;
    text-align: right;
    padding-right: 6px;
    width: 100%; }
  
  .mfp-counter {
    position: absolute;
    top: 0;
    right: 0;
    color: #cccccc;
    font-size: 12px;
    line-height: 18px; }
  
  .mfp-arrow {
    position: absolute;
    opacity: 0.65;
    margin: 0;
    top: 50%;
    margin-top: -55px;
    padding: 0;
    width: 90px;
    height: 110px;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }
  
  .mfp-arrow:active {
    margin-top: -54px; }
  
  .mfp-arrow:hover,
  .mfp-arrow:focus {
    opacity: 1; }
  
  .mfp-arrow:before, .mfp-arrow:after,
  .mfp-arrow .mfp-b,
  .mfp-arrow .mfp-a {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: 0;
    top: 0;
    margin-top: 35px;
    margin-left: 35px;
    border: medium inset transparent; }
  .mfp-arrow:after,
  .mfp-arrow .mfp-a {
    border-top-width: 13px;
    border-bottom-width: 13px;
    top: 8px; }
  .mfp-arrow:before,
  .mfp-arrow .mfp-b {
    border-top-width: 21px;
    border-bottom-width: 21px; }
  
  .mfp-arrow-left {
    left: 0; }
    .mfp-arrow-left:after,
    .mfp-arrow-left .mfp-a {
      border-right: 17px solid white;
      margin-left: 31px; }
    .mfp-arrow-left:before,
    .mfp-arrow-left .mfp-b {
      margin-left: 25px;
      border-right: 27px solid #3f3f3f; }
  
  .mfp-arrow-right {
    right: 0; }
    .mfp-arrow-right:after,
    .mfp-arrow-right .mfp-a {
      border-left: 17px solid white;
      margin-left: 39px; }
    .mfp-arrow-right:before,
    .mfp-arrow-right .mfp-b {
      border-left: 27px solid #3f3f3f; }
  
  .mfp-iframe-holder {
    padding-top: 40px;
    padding-bottom: 40px; }
  
  .mfp-iframe-holder .mfp-content {
    line-height: 0;
    width: 100%;
    max-width: 900px; }
  
  .mfp-iframe-scaler {
    width: 100%;
    height: 0;
    overflow: hidden;
    padding-top: 56.25%; }
  
  .mfp-iframe-scaler iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: black; }
  
  .mfp-iframe-holder .mfp-close {
    top: -40px; }
  
  /* Main image in popup */
  img.mfp-img {
    width: auto;
    max-width: 100%;
    height: auto;
    display: block;
    line-height: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 40px 0 40px;
    margin: 0 auto; }
  
  /* The shadow behind the image */
  .mfp-figure:after {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 40px;
    display: block;
    right: 0;
    width: auto;
    height: auto;
    z-index: -1;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: #444444; }
  
  .mfp-figure {
    line-height: 0; }
  
  .mfp-bottom-bar {
    margin-top: -36px;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    cursor: auto; }
  
  .mfp-title {
    text-align: left;
    line-height: 18px;
    color: #f3f3f3;
    word-wrap: break-word;
    padding-right: 36px; }
  
  .mfp-figure small {
    color: #bdbdbd;
    display: block;
    font-size: 12px;
    line-height: 14px; }
  
  .mfp-image-holder .mfp-content {
    max-width: 100%; }
  
  .mfp-gallery .mfp-image-holder .mfp-figure {
    cursor: pointer; }
  
  @media screen and (max-width: 800px) and (orientation: landscape), screen and (max-height: 300px) {
    /**
     * Remove all paddings around the image on small screen
     */
    .mfp-img-mobile .mfp-image-holder {
      padding-left: 0;
      padding-right: 0; }
  
    .mfp-img-mobile img.mfp-img {
      padding: 0; }
  
    /* The shadow behind the image */
    .mfp-img-mobile .mfp-figure:after {
      top: 0;
      bottom: 0; }
  
    .mfp-img-mobile .mfp-bottom-bar {
      background: rgba(0, 0, 0, 0.6);
      bottom: 0;
      margin: 0;
      top: auto;
      padding: 3px 5px;
      position: fixed;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box; }
  
    .mfp-img-mobile .mfp-bottom-bar:empty {
      padding: 0; }
  
    .mfp-img-mobile .mfp-counter {
      right: 5px;
      top: 3px; }
  
    .mfp-img-mobile .mfp-close {
      top: 0;
      right: 0;
      width: 35px;
      height: 35px;
      line-height: 35px;
      background: rgba(0, 0, 0, 0.6);
      position: fixed;
      text-align: center;
      padding: 0; }
  
    .mfp-img-mobile .mfp-figure small {
      display: inline;
      margin-left: 5px; } }
  @media all and (max-width: 900px) {
    .mfp-arrow {
      -webkit-transform: scale(0.75);
      transform: scale(0.75); }
  
    .mfp-arrow-left {
      -webkit-transform-origin: 0;
      transform-origin: 0; }
  
    .mfp-arrow-right {
      -webkit-transform-origin: 100%;
      transform-origin: 100%; }
  
    .mfp-container {
      padding-left: 6px;
      padding-right: 6px; } }
  .mfp-ie7 .mfp-img {
    padding: 0; }
  .mfp-ie7 .mfp-bottom-bar {
    width: 600px;
    left: 50%;
    margin-left: -300px;
    margin-top: 5px;
    padding-bottom: 5px; }
  .mfp-ie7 .mfp-container {
    padding: 0; }
  .mfp-ie7 .mfp-content {
    padding-top: 44px; }
  .mfp-ie7 .mfp-close {
    top: 0;
    right: 0;
    padding-top: 0; }
  
  //Magnific overrides
  .mfp-image img{
    background: white;
  }
  .mfp-figure:after {
    background: white;
  }
  
  /*
   * Off Canvas navbar toggle right
   * --------------------------------------------------
   */
  
  @media screen and (max-width: 768px) {
    .row-offcanvas .collapsing {
    -webkit-transition: none 0;
      -moz-transition: none 0;
      transition: none 0;
    }
   .row-offcanvas .navbar {
    position: absolute;
    z-index: 2;
      right:0;
      height:100%;
      width:55px;
      border:0;
      background-color:transparent;
    }
    .row-offcanvas .navbar-toggle {
      margin-right: 5px;
      margin-left: 5px;
    }
    .row-offcanvas {
      position: relative;
    }
    .row-offcanvas-right.active .navbar {
    position: absolute;
    z-index: 2;
      right: -28.4%;
      width:40%;
      background-color:#eee;
      border:0 solid #ddd;
      border-left-width:1px;
    }
    .row-offcanvas-right.active {
      left: -30%;
    }
    .row-offcanvas-right.active .navbar-collapse {
      position: relative;
      width: 100%;
    }
    .row-offcanvas .content {
    /*width:calc(100% - 60px);*/
    }
  }
  </style>
</head>
<body>
<div id="wrap">
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="contents col-xs-12 col-md-10">
<h1>Developing <code>R</code> packages</h1>
<p>As a modern statistician, one of the most fundamental contributions you can make is to create and distribute software that implements the methods you develop. I have gone so far as to say if you write a paper without software, <a href="http://simplystatistics.org/2013/01/23/statisticians-and-computer-scientists-if-there-is-no-code-there-is-no-paper/">that paper doesn't exist</a>.</p>
<p>The purposes of this guide are:</p>
<ul>
<li>To explain why writing software is a critical component of being a statistician.</li>
<li>To give you an introduction into the process/timing of creating an <code>R</code> package.</li>
<li>To help you figure out how to distribute/publicize your software.</li>
<li>To remind you that <a href="http://en.wikipedia.org/wiki/Perfect_is_the_enemy_of_good">&quot;the perfect is the enemy of the very good&quot;</a>.</li>
<li>To try to make sure <a href="http://jtleek.com/">Leek group</a> software has a consistent design.<sup>1</sup></li>
</ul>
<h1>Why develop an <code>R</code> package?</h1>
<p>Cause you know, you do what <a href="http://jtleek.com/">your advisor</a> says and stuff.</p>
<p>But there are some real reasons to write software as a statistician that I think are critically important:</p>
<ol style="list-style-type: decimal">
<li>You probably got into statistics to have an impact. If you work with <a href="http://jtleek.com/">Jeff</a> it was probably to have an impact on human health or statistics. Either way, one of the most direct and quantifiable ways to have an impact on the world is to write software that other scientists, educators, and statisticians use. If you write a stats method paper with no software the chance of impacting the world is dramatically reduced.</li>
<li>Software is the new publication. I couldn't name one paper written by a graduate student (other than mine) in the last 2-3 years. But I could tell you about tons of software packages written by students/postdocs (both mine and at other places) that I use. It is the number one way to get your name out there in the statistics community.</li>
<li>If you write a software package you need for yourself, you will save yourself tons of time in sourcing scripts, and remembering where all your code/functions are.</li>
</ol>
<p>Most importantly might be that creating an <code>R</code> package is <em>building something</em>. It is something you can point to and say, &quot;I made that&quot;. Leaving aside all the tangible benefits to your career, the profession, etc. it is maybe the most gratifying feeling you get when working on research.</p>
<h1>When to start writing an <code>R</code> package</h1>
<p>As soon as you have 2 functions.</p>
<p>Why 2? After you have more than one function it starts to get easy to lose track of what your functions do, it starts to be tempting to name your functions <code>foo()</code> or <code>tempfunction()</code> or some other such nonsense. You are also tempted to put all of the functions in one file and just source it. That was what I did with my first project, which ended up being an epically comical set of about 3,000 lines of code in one <code>R</code> file. Ask <a href="http://www.genomine.org/">my advisor</a> about it sometime, he probably is still laughing about it.</p>
<h1>What you need</h1>
<p>To start writing an <code>R</code> package you need:</p>
<ul>
<li><code>R</code> <a id='cite-R'></a>(<a href='http://www.R-project.org/'>R Core Team, 2014</a>)- I mean, unless you are a wizard.</li>
<li>Your functions, each written in a separate file<sup>2</sup>.</li>
<li>At minimum the following packages installed: <code>devtools</code> <a id='cite-devtools'></a>(<a href='http://CRAN.R-project.org/package=devtools'>Wickham and Chang, 2014</a>), <code>roxygen2</code> <a id='cite-roxygen2'></a>(<a href='http://CRAN.R-project.org/package=roxygen2'>Wickham, Danenberg, and Eugster, 2014</a>) (suggested by <code>devtools</code>), <code>knitr</code> <a id='cite-knitr'></a>(<a href='http://yihui.name/knitr/'>Xie, 2014</a>).</li>
<li>If you are going to use C code: <code>Rcpp</code> .</li>
<li><a href="https://help.github.com/articles/set-up-git">Install git</a>.</li>
<li>A <a href="https://github.com/signup/free">github account</a>.</li>
<li>To read <a href="http://adv-r.had.co.nz/Package-basics.html">Hadley's intro</a>.</li>
<li>To read <a href="http://kbroman.github.io/github_tutorial/">Karl's Github tutorial</a>.</li>
</ul>
<h2>Naming your package</h2>
<p>The first step in creating your <code>R</code> package is to give it a name. Hadley <a href="http://adv-r.had.co.nz/Package-basics.html">has some ideas</a> about it. Here are our rules:</p>
<ul>
<li>Make it googleable - check by googling it.</li>
<li>Make sure there is no <a href="http://www.bioconductor.org/">Bioconductor</a>/<a href="http://cran.r-project.org/">CRAN</a> package with the same name.</li>
<li>No underscores, dashes or any other special characters/numbers</li>
<li>Make it all lower case - people hate having to figure out caps in names of packages.</li>
<li>Make it memorable; if you want serious people to use it don't be too cute.</li>
<li>Make it as short as you possibly can while staying googleable.</li>
<li>Never, under any circumstances, let <a href="http://rafalab.dfci.harvard.edu/">Rafa</a> or <a href="http://www.cbcb.umd.edu/~hcorrada/">Hector</a> name your package.<sup>3</sup></li>
</ul>
<h2>Versioning your package</h2>
<p>Almost all of our packages will eventually go on <a href="http://www.bioconductor.org/">Bioconductor</a> <a id='cite-bioc'></a>(<a href='http://genomebiology.com/2004/5/10/R80'>Gentleman, Carey, Bates, and others, 2004</a>). So we are going to use the <a href="http://www.bioconductor.org/developers/version-numbering/">versioning scheme</a> that is compatible with that platform (with some helpful suggestions from <a href="http://www.hansenlab.org/">Kasper H.</a>).</p>
<p>The format of the version number will always be <code>x.y.z</code>. When you start any new package the version number should be <code>0.1.0</code>. Every time you make any change public (e.g., push to <a href="https://github.com/">GitHub</a>) you should increase <code>z</code> in the version number. If you are making local commits but not making them public to other people you don't need to increase <code>z</code>. You should stay in version <code>0.1.z</code> basically up until you are ready to submit to <a href="http://www.bioconductor.org/">Bioconductor</a> (or <a href="http://cran.r-project.org/">CRAN</a>) for release.</p>
<p>Before release you can increase <code>y</code> if you perform a major redesign of how the functions are organized or are used. You should never increase <code>x</code> before release.</p>
<p>The first time you submit the package to <a href="http://www.bioconductor.org/">Bioconductor</a> you should submit it as version number <code>0.99.z</code>. That way on the next release of <a href="http://www.bioconductor.org/">Bioconductor</a> it will get bumped to <code>1.0.0</code>. The next devel version will get bumped to <code>1.1.0</code> on <a href="http://www.bioconductor.org/">Bioconductor</a>. Immediately after releasing, if you plan to keep working on the project, you should bump your version on <a href="https://github.com/">GitHub</a> to <code>1.1.0</code>.</p>
<p>Thereafter, again you should keep increasing <code>z</code> every time you make a public change. If you do a major reorganization you should increase <code>y</code>.</p>
<h2>Creating your package</h2>
<p>Run this code from <code>R</code> to create your package. It will create a directory called <code>packagename</code> and put some stuff in it (more on this stuff in a second).</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">## Setup
install.packages(c("devtools", "roxygen2", "knitr"))

## Load the libraries
library("devtools")
library("roxygen2")
library("knitr")

## Create the package directory
create("packagename")</code></pre>
</div>
<h2>Put your package on <a href="https://github.com/">GitHub</a></h2>
<p>All packages that are developed by the <a href="http://jtleek.com/">Leek group</a> will be hosted on <a href="https://github.com/">GitHub</a>. The accounts are free and it makes it so much easier to share code/get other people to help you with your code. Here are the steps to getting your package on <a href="https://github.com/">GitHub</a>:</p>
<ol style="list-style-type: decimal">
<li>Create a <a href="https://help.github.com/articles/create-a-repo">new Github repository</a> with the same name (packagename)</li>
<li>In the <code>packagename</code> directory on your local machine, run the commands: <code>git init</code></li>
<li>Then run: <code>git remote add origin git@github.com:yourusername/packagename.git</code></li>
<li>Create a file in the <code>packagename</code> directory called README.md</li>
<li>Run the command: <code>git add *</code></li>
<li>Run the command: <code>git commit -m 'initial commit'</code></li>
<li>Run the command: <code>git push -u origin master</code></li>
</ol>
<p>In summary:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">mkdir</span> packagename
<span class="kw">cd</span> packagename
<span class="kw">git</span> init
<span class="kw">git</span> remote add origin git@github.com:yourusername/packagename.git
<span class="kw">git</span> add *
<span class="kw">git</span> commit -m <span class="st">&#39;initial commit&#39;</span>
<span class="kw">git</span> push -u origin master</code></pre>
<ul>
<li>Use commit messages that will help you remember what you did and why you did it.</li>
<li>If you interact very frequently with <a href="https://github.com">GitHub</a> you will be interested on <a href="https://help.github.com/articles/generating-ssh-keys">setting up SSH keys</a> to avoid typing your password every time you push/pull.</li>
<li>You can mark specific versions of your package <a href="http://git-scm.com/book/en/Git-Basics-Tagging">using Git Tags</a> which allows you to easily check the state of the package at that particular version.</li>
<li>If more than one person is working on developing the package or you want to contribute to one, check <a href="https://help.github.com/articles/fork-a-repo">how to fork a repository</a>. It is an easy way to contribute with a very low burden on the maintainer and no setup.</li>
<li>Consider whether you want users to report issues to your package. It is a very good framework for issue management, but can lead to duplicate information if the main issue reporting/tracking system is a mailing list like in the case of <a href="http://www.bioconductor.org/">Bioconductor</a> packages. For an example of how GitHub's issue system looks like check the <a href="https://github.com/ramnathv/rCharts/issues?state=closed">rCharts issues</a>.</li>
</ul>
<p>Once you're familiar with basic git and GitHub workflows, GitHub has some more advanced features that you can take advantage of. In particular, <a href="http://scottchacon.com/2011/08/31/github-flow.html">github flow</a> is an excellent way to manage contributions, and <a href="https://github.com/blog/674-introducing-organizations">GitHub organizations</a> can provide a central location for multiple people (e.g. in a lab) to collaborate on software.</p>
<h1>The parts of an <code>R</code> package</h1>
<h2><code>R</code> functions</h2>
<p>The <code>R</code> functions you have written go in the <code>R/</code> directory in the <code>packagename</code> folder. Each of your <code>R</code> functions should go in a separate file with a <code>.R</code> extension. We are going to use capital <code>R</code> for the extension of the files.</p>
<p>Why? Don't ask questions.</p>
<p>If you define a new class call the <code>.R</code> file <em>classname-class.R</em>. For example, if you are creating the leek class of objects it would be called <code>leek-class.R</code>. If you are defining a new method for the class it should be named <em>newclass-methodname-method.R</em>. For example, a plotting method for the leek class would go in a <code>.R</code> file called <em>leek-plot-method.R</em>.</p>
<h2><code>DESCRIPTION</code></h2>
<p>The <code>DESCRIPTION</code> file is a plain text file that gets generated with the <code>devtools::create()</code> command.</p>
<ul>
<li>The package name should go after the colon on the first line.</li>
<li>The package title should be a one sentence description of what the package actually does.</li>
<li>The description should be a one paragraph description that builds on the title. It should give a user some idea about what kind of data your software should be used on, what the inputs are and what the outputs are.</li>
<li>The version should be defined as described above.</li>
<li>The authors field may have a <span class="citation">@R</span> before the colon which should be deleted. The authors should be in the format <code>author name &lt;authoremail@host.com&gt;</code> for example: <code>Jeff Leek &lt;jleek@jhsph.edu&gt;</code> and should be comma separated.</li>
<li>A maintainer field should be added with maintainers listed as comma separated files. You are the maintainer of your package when you create it. See the section below on after you leave the <a href="http://jtleek.com/">Leek group</a> for more information.</li>
<li>The dependencies (other <code>R</code> packages your software uses/depends on) should be listed in a comma separated list after the <code>R</code> version. One of the dependencies should be the <code>knitr</code> (<a href='http://yihui.name/knitr/'>Xie, 2014</a>) package for the vignette.</li>
<li>The License is required to be open source. I like GPL-2 or GPL-3. I like the creative commons licenses, like <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, for manuscripts, but <a href="http://wiki.creativecommons.org/Frequently_Asked_Questions#Can_I_apply_a_Creative_Commons_license_to_software.3F">they are not recommended for software</a>. <a href="http://www.tldrlegal.com/">This</a> is a good website for learning more about software licenses. Also see <a href="http://www.codinghorror.com/blog/2007/04/pick-a-license-any-license.html">Jeff Atwood's comments on licenses</a>.</li>
<li>You should add a line <code>VignetteBuilder: knitr</code></li>
<li>You should add a line <code>Suggests: knitr, BiocStyle</code></li>
</ul>
<p>For example:</p>
<pre><code>Package: packagename
Type: Package
Title: A sentence
Version: 0.1.0
Date: 2013-09-30
Authors@R: c(person(&quot;Jeff&quot;, &quot;Leek&quot;, role = c(&quot;aut&quot;, &quot;cre&quot;, &quot;ths&quot;),
    email = &quot;jleek@jhsph.edu&quot;))
Depends:
    R(&gt;= 3.0.2)
Suggests:
    knitr,
    BiocStyle
Description: A couple sentences that expand the title
License: Artistic-2.0</code></pre>
<h1>Coding style requirements</h1>
<p>I will try to keep the stylistic requirements minimal because they would likely drive you nuts. For now there are:</p>
<ol style="list-style-type: decimal">
<li>Your indent should be 4 spaces on every line</li>
<li>Each line can be no more than 80 columns</li>
</ol>
<p>You can set these as defaults (say in Sublime, Textmate or RStudio) then you don't have to worry about them anymore. If you find lines going longer than 80 columns, you will need to write the lines into functions, etc.</p>
<p>We also recommend using <code>formatR</code> <a id='cite-formatR'></a>(<a href='http://CRAN.R-project.org/package=formatR'>Xie, 2014</a>) to nicely format your code. For example, use the <code>tidy_source()</code> function to reformat the code in a <code>R</code> source file.</p>
<h1>Documentation</h1>
<p>This is how I feel about the relative importance of various components of statistical software development:</p>
<p><img src="https://raw.github.com/jtleek/rpackages/master/documentation.png" alt="documentation" /></p>
<p>Ideally your software is easy to understand and just works. But this isn't <a href="http://www.apple.com/">Apple</a> and you don't have a legion of test users to try it out for you. So more likely than not, at least the first several versions of your software will be at least a little hard to use. The first versions will also probably be slower than you would like them to be.</p>
<p>But if your software solves a real problem (it should!) and is well documented (it will be!) then people will use it and you will have a positive impact on the world.</p>
<p>Documentation has two main components. The first component is help files, which go into the <code>man/</code> folder. The second component is vignettes which will go in a folder called `vignettes/ which you will have to create. I'll tackle each of these separately.</p>
<h2>Help (man) files</h2>
<p>These files document each of the functions/methods/classes you will expose to your users. The good news is that you don't have to write these files yourself. You will use the <code>roxygen2</code> (<a href='http://CRAN.R-project.org/package=roxygen2'>Wickham, Danenberg, and Eugster, 2014</a>) package to create the man files. To use <code>roxygen2</code> you will need to document your functions in the <code>.R</code> files with comments formatted in a specific way. Right before your functions you should have a set of comments that are denoted by the symbol <code>#'</code>. They are structured in the following way:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#' A one sentence description of what your function does
#' 
#' A more detailed description of what the function is and how
#' it works. It may be a paragraph that should not be separated
#' by any spaces. 
#'
#' @param inputParameter1 A description of the input parameter \code{inputParameter1}
#' @param inputParameter2 A description of the input parameter \code{inputParameter2}
#'
#' @return output A description of the object the function outputs 
#'
#' @keywords keywords
#'
#' @export
#' 
#' @examples
#' R code here showing how your function works

myfunction <- function(inputParameter1, inputParameter2){
    ## Awesome code!
    return(result)
}</code></pre>
</div>
<p>You include the <code>@export</code> command if you want the function to be exported (i.e. visible) to your end users. <a href="http://had.co.nz/">Hadley</a> has a pretty comprehensive <a href="http://adv-r.had.co.nz/Documenting-functions.html">guide</a> where you can learn a lot more about how <code>roxygen2</code> works. Your function follows immediately after the comments.</p>
<p>When you have saved functions with <code>roxygen2</code> style comments you can create the <code>.Rd</code> files (the man files themselves) by running:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library("devtools")
document("packagename")</code></pre>
</div>
<p>on the package folder. The package folder must be in the current working directory where you are editing.</p>
<p>Please read <a href="http://had.co.nz/">Hadley</a>'s <a href="http://adv-r.had.co.nz/Documenting-functions.html">guide</a> in its entirety to understand how to document packages and in particular, how <code>roxygen2</code> deals with <a href="http://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file">collation</a> and <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Package-namespaces">namespaces</a>.</p>
<h2>Vignettes</h2>
<p>Documentation in the help files is important and is the primary way that people will figure out your functions if they get stuck. But it is equally (maybe more) critical that you help people <em>get started</em>. The way that you do that is to create a vignette. For our purposes, a vignette is a tutorial that includes the following components:</p>
<ul>
<li>A short introduction that explains</li>
<li>The type of data the package can be used on</li>
<li>The general purpose of the functions in the package</li>
<li>One or more example analyses with</li>
<li>A small, real data set</li>
<li>An explanation of the key functions</li>
<li>An application of these functions to the data</li>
<li>A description of the output and how it can be used</li>
</ul>
<p>We will write Vignettes in <code>knitr</code> (<a href='http://yihui.name/knitr/'>Xie, 2014</a>). Vignettes can generate either HTML from R markdown, or pdf from latex. In either case, the files should be in <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Writing-package-vignettes"><strong>packagename/vignettes/</strong></a>. During package building they will be moved to <strong>packagename/inst/doc</strong>. For HTML vignettes, the vignette files should be <code>vignette.Rmd</code>. For PDF vignettes, it should be <code>vignette.Rnw</code>. <a href="http://yihui.name/knitr/demo/vignette/">Here</a> is some information from <a href="http://yihui.name/">Yihui</a> about building vignettes in <code>knitr</code> (<a href='http://yihui.name/knitr/'>Xie, 2014</a>).</p>
<p>For latex vignettes, you should use the <code>BiocStyle</code> <a id='cite-BiocStyle'></a>(<a href='#bib-BiocStyle'>Morgan, Oles, and Huber, 2014</a>) package to style your vignette. This means you will need to add this code to the preamble of your <code>Rnw</code> file:</p>
<pre><code>&lt;&lt;style, eval=TRUE, echo=FALSE, results=&#39;asis&#39;&gt;&gt;=
BiocStyle::latex()
@</code></pre>
<p>See the <a href="http://www.bioconductor.org/packages/devel/bioc/vignettes/BiocStyle/inst/doc/LatexStyle.pdf">BiocStyle vignette</a> for commands that you can use when creating your vignette (e.g. <code>\Biocpkg{IRanges}</code> for referencing a <a href="http://www.bioconductor.org/">Bioconductor</a> package).</p>
<p>Alternatively, you can make HTML vignettes. See the <a href="http://www.bioconductor.org/packages/devel/bioc/vignettes/BiocStyle/inst/doc/HtmlStyle.html">BiocStyle HTML vignette</a> on how to do so. Or check how we've made others using <code>knitrBootstrap</code> <a id='cite-knitrBootstrap'></a>(<a href='https://github.com/jimhester/'>Hester, 2014</a>) <a href="https://github.com/lcolladotor/derfinder/tree/master/vignettes">in the derfinder package</a> which render into <a href="http://lcolladotor.github.io/derfinder/">these pages</a>.</p>
<h1>Who should be ...</h1>
<h2>an author?</h2>
<p>For our purposes anyone who wrote a function exposed to users in the package (a function that has an `<span class="citation">@export</span> in the documentation) will be listed as an author.</p>
<h2>a maintainer?</h2>
<p><strong>You</strong> will be a maintainer and <a href="http://jtleek.com/">Jeff</a> will be a maintainer. If you can sucker one of your fellow students into maintaining the package as well, you can list them, but they must make the same commitment to 5 years of support.</p>
<h1><a href="http://www.brainyquote.com/quotes/quotes/a/aaronsorki405048.html">Good writers borrow from other authors, great authors steal outright</a><sup>4</sup></h1>
<p>One thing I think a lot of academics (definitely including myself here) struggle with is the need to be &quot;new&quot; and &quot;innovative&quot; with everything they do. There is a strong <a href="http://en.wikipedia.org/wiki/Evolutionary_pressure">selective pressure</a> for these qualities in academia.</p>
<p>But when writing software it is very, very important not to reinvent every single wheel you see. One person who is awesome at blending existing tools and exponentially building value is <a href="https://github.com/ramnathv">Ramnath Vaidyanathan</a>. He built <code>slidify</code> <a id='cite-slidify'></a>(<a href='http://ramnathv.github.com/slidify/'>Vaidyanathan, 2012</a>) on top of <code>knitr</code> (<a href='http://yihui.name/knitr/'>Xie, 2014</a>) and <code>rCharts</code> <a id='cite-rCharts'></a>(<a href='#bib-rCharts'>Vaidyanathan, 2013</a>) on top of existing <a href="http://d3js.org/">D3</a> libraries. They allowed him to create awesome software without having to solve every single problem.</p>
<p>Before writing general purpose functions (say for regression or for calculating p-values or for making plots) make sure you search for functions that already exist (or ask <a href="http://jtleek.com/">Jeff</a>/your fellow students if you aren't sure).</p>
<p>An important and balancing principle is that you should try to keep the number of dependencies for your package as small as possible. You should also try to use packages that you trust will be maintained. Some ways to tell if a package is &quot;trustworthy&quot; are to check the number of downloads/users (higher is better), check to see if the package is being actively updated (on <a href="https://github.com/">GitHub</a>/<a href="http://www.bioconductor.org/">Bioconductor</a>/<a href="http://cran.r-project.org/">CRAN</a>) and there is a history of updates, and check to see if the authors of the packages routinely maintain important packages (like <a href="http://had.co.nz/">Hadley</a>, <a href="http://yihui.name/">Yihui</a>, <a href="https://github.com/ramnathv">Ramnath</a>, <a href="http://www.fhcrc.org/en/util/directory.html?q=martin+morgan&amp;short=true#peopleresults">Martin Morgan</a>, etc.). Keep in mind your commitment (see below) when making decisions about whose functions to use.</p>
<h1>Simple &gt;&gt;&gt;&gt; Complex</h1>
<p>A major temptation for everyone creating code is to generate a bunch of features they think that users will want without actually testing those features out. The problem is that each new feature you create in your package will monotonically increase the number of dependencies and the amount of code you have to maintain. In general, the principle should be to create exactly enough functions that the users can install your package, perform your analysis, and return the results, <strong>with no extraneous functionality</strong>.</p>
<p>Specifically, be wary of things like GUIs or <a href="http://www.rstudio.com/products/shiny/">Shiny</a> apps. Given the heavy emphasis placed on reproducibility these days, it is rarely the case that real/important analyses will be performed in a point and click format.</p>
<p>If you are way into creating products that point-and-click users will be interested in I'm very happy to support you in that, since I think those things are cool, probably the future, and can certainly raise the interest in your work. But they present a potentially major difficulty in maintenance and should be placed in separate packages on your own account.</p>
<h1>Unit tests</h1>
<p>Unit tests are an important for the following reasons:</p>
<ul>
<li>They make it easier for you to find bugs in your code</li>
<li>They make it easier for you to figure out if your code works together</li>
<li><strong>They make you slow down and think about what you are doing</strong></li>
</ul>
<p>Your advisor tends to rush through things. While there is a strong interest in being competitive/getting things done in the <a href="http://jtleek.com/">Leek group</a>, there is an even stronger interest in doing them right and for the long term. We will use the <code>testthat</code> <a id='cite-testthat'></a>(<a href='http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf'>Wickham, 2011</a>) framework (described <a href="http://adv-r.had.co.nz/Testing.html">here</a>) for building unit tests. A couple of suggestions for using the framework are:</p>
<ul>
<li>Organize your tests into contexts (groups of tests) and name them.</li>
<li>Have some tests that test the basic helper functions on fixed data.</li>
<li>Have some tests that check the output of your main functions on fixed data.</li>
<li>Have some tests that can be run on random data - these can help find bugs before they happen</li>
</ul>
<p>To use the <code>testthat</code> (<a href='http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf'>Wickham, 2011</a>) package you will put a file called <em>test-area-packagename.R</em> in the <code>inst/tests</code> directory, where <code>area</code> is the name of the broad class of functions you are testing. Then add another file called <em>run-all.R</em> to a separate directory called <code>tests</code> (see for example the <code>stringr</code> <a id='cite-stringr'></a>(<a href='http://CRAN.R-project.org/package=stringr'>Wickham, 2012</a>) package). The <em>run-all.R</em> function has this code in it:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library(testthat)
library(mypackage)
test_package("mypackage")</code></pre>
</div>
<p>This means that whenever you run <code>R CMD check</code> on your package, you will get an error if one of the unit tests fails. This is important, because it will be one way for me to check your code and to tell you if you have broken your code with an update.</p>
<h2>An example unit test</h2>
<p>Here is an example unit test, so you get the idea of what I'm looking for. Below is a function for performing differential expression analysis on a matrix.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">#' A function for differential expression analysis
#' 
#' This function takes a matrix of gene expression data
#' (genes in rows, samples in columns) and a factor variable
#' with two levels and performs differential expression analysis
#'
#' @param data A gene expression data matrix with genes in rows and samples in columns
#' @param grp A two-level factor variable with two levels
#'
#' @return pValues The p-values from the differential expression test.
#'
#' @keywords differential expression
#'
#' @export
#' 
#' @examples
#' R code here showing how your function works

deFunction <- function(dat, grp){
  if(!is.factor(grp)){stop("grp variable must be a factor")}
  if(length(unique(grp))!=2){stop("grp variable must have exactly two levels")} 
  if(any(genefilter::rowSds(dat)==0)){stop("some genes have zero variance")} 
  result = genefilter::rowttests(dat,grp)$p.value
  return(result)
}</code></pre>
</div>
<p>Now create a new file called <code>test-defunction.R</code>. The code in that file is:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">context("tests on inputs")

test_that("tests for grp variable",{
  set.seed(12345)
  dat <- matrix(rnorm(100*30),nrow=100,ncol=30)
 
  grp <- rep(c(0,1),each=15)
  expect_that(deFunction(dat,grp),throws_error("grp variable must be a factor"))
  
  grp <- as.factor(rep(c(0,1,2),each=10))
  expect_that(deFunction(dat,grp),throws_error("grp variable must have exactly two levels"))
  
  grp <- as.factor(rep(0,30))
  expect_that(deFunction(dat,grp),throws_error("grp variable must have exactly two levels")) 
})

test_that("tests for dat variable",{
  set.seed(12345)
  grp <- as.factor(rep(c(0,1),each=15))
  
  dat <- matrix(0,nrow=100,ncol=30)
  expect_that(deFunction(dat,grp),throws_error("some genes have zero variance; t-test won't work"))
})

context("test on outputs")

test_that("test p-values are numeric and non-zero",{
  set.seed(12345)
  grp <- as.factor(rep(c(0,1),each=15))
  dat <- matrix(matrix(rnorm(100*30)),nrow=100,ncol=30)
  
  expect_that(deFunction(dat,grp),is_a("numeric"))
  expect_that(all(deFunction(dat,grp) > 0),is_true())
})</code></pre>
</div>
<p>If you run the command: <code>test_file(&quot;test-defunction.R&quot;)</code> you should get the output:</p>
<pre><code>tests on inputs : ....
test on outputs : ..</code></pre>
<p>without any error messages. But if you accidentally delete one of your error checking messages at the beginning of the function and rerun the tests, it will tell you which context and which test broke.</p>
<p>The thing to keep in mind here is that you would be doing these tests on the fly/manually anyway. So you might as well write them into a set of unit tests that will give you an idea of where your functions are breaking. Some things that you should be testing:</p>
<ul>
<li>That your error messages catch what they should</li>
<li>That your outputs are what you expect them to be</li>
<li>That you get reasonable answers for reasonable inputs</li>
<li>When you know what the answer should be - you get it</li>
</ul>
<p>For a full example, check <a href="https://github.com/lcolladotor/derfinder/tree/master/tests">derfinder's unit tests</a>.</p>
<h2>Automatically test your package</h2>
<p>You may be interested in automatically testing your packages with <code>R CMD check</code> while you are developing it in <a href="https://github.com">GitHub</a>. As a <a href="http://jtleek.com/protocols/">Leek group protocol</a>, we have described how to do so in <a href="http://jtleek.com/protocols/travis_bioc_devel/"><em>Routinely testing your R package with Travis</em></a>.</p>
<h1>Dummy proofing</h1>
<p>Hopefully your package will have a ton of users. Inevitably, they will try to use the software for purposes you did not intend. Some of these will be happy things (software you wrote for microarrays being used in sequencing). Sometimes they will be unhappy - people using it completely out of context and getting wonky answers.</p>
<p>A major component of dummy proofing is writing thorough documentation and vignettes (see the above sections). When you see weird cases (reported from users or cases you find yourself) add them to the documents. There is one additional important component of dummy proofing we will use: input dummy proofing (related to unit testing).</p>
<h2>Input dummy-proofing</h2>
<p>Most of the time, if you input non-matching arguments or arguments of the wrong class into R functions a cryptic error will result. This will cause you headaches when maintaining your software. So you should add some commands with the <code>stop</code> function at the beginning of each function that throw errors if the arguments don't have the correct class or would result in silly output (like the zero variance gene test in the unit testing example above).</p>
<h2>Reduce arguments</h2>
<p>When possible, assume some default parameters for the users and reduce the list of arguments they see. You can achieve this using the triple dots argument (...) to hide a set of advanced arguments.</p>
<p>In the <code>derfinder</code> <a id='cite-derfinder'></a>(<a href='https://github.com/lcolladotor/derfinder'>Collado-Torres, Frazee, Jaffe, and Leek, 2014</a>) package we decided to use a helper function to identify some advanced arguments: check it <a href="https://github.com/lcolladotor/derfinder/blob/master/R/utils.R">here</a> and how it's used in <a href="https://github.com/lcolladotor/derfinder/blob/master/R/analyzeChr.R">another function</a>. There are other ways you can reduce the number of arguments, but the idea is that doing so will reduce the user's confusion level.</p>
<h1>Releasing to <a href="http://www.bioconductor.org/">Bioconductor</a></h1>
<p>Once you have developed a package you should use it yourself for a couple of weeks. Then you should have at least one other student use it without you giving them any instructions other than telling them where some data are - that way you can test your documentation. Finally, you should meet with <a href="http://jtleek.com/">Jeff</a> and get ready to release it to <a href="http://www.bioconductor.org/">Bioconductor</a>.</p>
<p>The steps in releasing to <a href="http://www.bioconductor.org/">Bioconductor</a> are:</p>
<ul>
<li>Follow <a href="http://www.bioconductor.org/">Bioconductor</a>'s <a href="http://www.bioconductor.org/developers/package-submission/">checklist</a> to confirm the package is ready to upload.
<ul>
<li>In particular, check that your package passes R CMD check in less than 5 minutes. You can use</li>
</ul></li>
</ul>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library("devtools")
check_doc("packagename") ## Only for checking the documentation
system.time(check("packagename", args='--no-build-vignettes')) ## R CMD check with time information</code></pre>
</div>
<ul>
<li>Update the version number and push to <a href="https://github.com/">GitHub</a>. In the commit comments, state it is the version being pushed to <a href="http://www.bioconductor.org/">Bioconductor</a>.</li>
<li>Send an email as described in the checklist stating that you want an account and want to submit a package.</li>
<li>Submit the package to <a href="http://www.bioconductor.org/">Bioconductor</a>.</li>
<li>Update the version number (bump <code>y</code> and <code>z</code>) to the next odd number for <code>z</code>. In the commit comments, state that this is the new devel version.</li>
</ul>
<h1>Your commitment</h1>
<p>You are vested in creating the software you are working on now since it is part of your training and will definitely help your short term career in terms of getting jobs/gaining visibility. But your time as a graduate student is (happily for you) limited. After a few years you will graduate and head off to an awesome job. The software you built as a student may be less important to you.</p>
<p>Hopefully, though, it is still very important to the users who are applying that software to solve the most pressing problems in molecular biology and medicine. It is unfair to those users if your software breaks down and can't be installed/used.</p>
<p>So if you undertake a research project in the <a href="http://jtleek.com/">Leek group</a> which involves software development (pretty much all of them will) you commit to maintaining that software for at least 5 years after you graduate. Of course, I can't hold you to that like a contract or anything, but think of it as an honor thing.</p>
<p>5 years is a long time. It is most of the way toward tenure (in academia) or probably 3 years after you have started your own awesome company and appeared on <a href="http://techcrunch.com/">Techcrunch</a>. So it is worth thinking about ways you can ensure that the maintenance will be as low as possible. Specifically:</p>
<ul>
<li>Make the dependencies as minimal as possible. If your dependencies update, you'll have to update the software.</li>
<li>Only create functions that are absolutely necessary for the package. It is hard to delete functions from a package after it is released without messing with users and adds to the maintenance headache each time you keep one in.</li>
<li>Make the vignette really clear and add a FAQ with questions you get from users while you are still in the <a href="http://jtleek.com/">Leek group</a>.</li>
<li>Add comments to your code/unit tests so that when something breaks you can find/fix the problem quickly.</li>
</ul>
<h1>About the author(s)</h1>
<p>The first version of this tutorial was written by <a href="http://jtleek.com/">Jeff Leek</a> (@<a href="https://twitter.com/simplystats">simplystats</a>). Hopefully he can sucker his students into contributing since they are much, much better <code>R</code> programmers than he is.</p>
<p>Thanks to the beauty of Github a few others have made contributions.</p>
<ul>
<li><a href="http://ivory.idyll.org/blog">Titus Brown</a> added the GitHub flow and organization links. You can see his group's setup at <a href="http://github.com/ged-lab">ged-lab</a>.</li>
<li><a href="http://www.biostat.wisc.edu/~kbroman/">Karl Broman</a> fixed some problems with license recommendations.</li>
<li><a href="http://www.biostat.jhsph.edu/~lcollado/#.UlP1O2TXis0">Leo Collado Torres</a> fixed some typos/added links, used <code>knitrBootstrap</code> (<a href='https://github.com/jimhester/'>Hester, 2014</a>) to format the page, contributed the protocol to <a href="http://jtleek.com/protocols/travis_bioc_devel/">test your R package with Travis</a>.</li>
<li><a href="http://alyssafrazee.com/">Alyssa Frazee</a> fixed typos/corrected grammar</li>
<li><a href="http://rmflight.github.io">Robert M Flight</a> corrected some information about writing vignettes.</li>
<li><a href="jeromyanglim.blogspot.com">Jeromy Anglim</a> small tweak to description of unit testing</li>
</ul>
<h1>Footnotes</h1>
<ol style="list-style-type: decimal">
<li>These design requirements are subject to update and may not reflect <a href="http://jtleek.com/">Leek group</a> software created before 9/18/2013 (or ever really, remember the perfect is the enemy of the very good).</li>
<li>Except for utility functions, more on this later.</li>
<li>Ask me about the time they named one of my packages &quot;succs&quot;.</li>
<li>With proper attribution, of course.</li>
</ol>
<h1>References</h1>
<p>Citations made with <code>knitcitations</code> <a id='cite-knitcitations'></a>(<a href='https://github.com/cboettig/knitcitations'>Boettiger, 2014</a>).</p>
<div class="row">
<p>
<a id='bib-knitcitations'></a><a href="#cite-knitcitations">[1]</a><cite> C. Boettiger. <EM>knitcitations: Citations for knitr markdown files</EM>. R package version 1.0.2. 2014. URL: <a href="https://github.com/cboettig/knitcitations">https://github.com/cboettig/knitcitations</a>.</cite>
</p>
<p>
<a id='bib-derfinder'></a><a href="#cite-derfinder">[2]</a><cite> L. Collado-Torres, A. Frazee, A. Jaffe and J. Leek. <EM>derfinder: Fast differential expression analysis of RNA-seq data at base-pair resolution</EM>. R package version 0.99.5. 2014. URL: <a href="https://github.com/lcolladotor/derfinder">https://github.com/lcolladotor/derfinder</a>.</cite>
</p>
<p>
<a id='bib-bioc'></a><a href="#cite-bioc">[3]</a><cite> R. C. Gentleman, V. J. Carey, D. M. Bates and others. Bioconductor: Open software development for computational biology and bioinformatics. In: <EM>Genome Biology</EM> 5 (2004), p. R80. URL: <a href="http://genomebiology.com/2004/5/10/R80">http://genomebiology.com/2004/5/10/R80</a>.</cite>
</p>
<p>
<a id='bib-knitrBootstrap'></a><a href="#cite-knitrBootstrap">[4]</a><cite> J. Hester. <EM>knitrBootstrap: Knitr Bootstrap framework.</EM> R package version 1.0.0. 2014. URL: <a href="https://github.com/jimhester/">https://github.com/jimhester/</a>.</cite>
</p>
<p>
<a id='bib-BiocStyle'></a><a href="#cite-BiocStyle">[5]</a><cite> M. Morgan, A. Oles and W. Huber. <EM>BiocStyle: Standard styles for vignettes and other Bioconductor documents</EM>. R package version 1.3.14. 2014.</cite>
</p>
<p>
<a id='bib-R'></a><a href="#cite-R">[6]</a><cite> R Core Team. <EM>R: A Language and Environment for Statistical Computing</EM>. R Foundation for Statistical Computing. Vienna, Austria, 2014. URL: <a href="http://www.R-project.org/">http://www.R-project.org/</a>.</cite>
</p>
<p>
<a id='bib-rCharts'></a><a href="#cite-rCharts">[7]</a><cite> R. Vaidyanathan. <EM>rCharts: Interactive Charts using Javascript Visualization Libraries</EM>. R package version 0.4.5. 2013.</cite>
</p>
<p>
<a id='bib-slidify'></a><a href="#cite-slidify">[8]</a><cite> R. Vaidyanathan. <EM>slidify: Generate reproducible html5 slides from R markdown</EM>. R package version 0.4.5. 2012. URL: <a href="http://ramnathv.github.com/slidify/">http://ramnathv.github.com/slidify/</a>.</cite>
</p>
<p>
<a id='bib-stringr'></a><a href="#cite-stringr">[9]</a><cite> H. Wickham. <EM>stringr: Make it easier to work with strings.</EM> R package version 0.6.2. 2012. URL: <a href="http://CRAN.R-project.org/package=stringr">http://CRAN.R-project.org/package=stringr</a>.</cite>
</p>
<p>
<a id='bib-testthat'></a><a href="#cite-testthat">[10]</a><cite> H. Wickham. testthat: Get Started with Testing. In: <EM>The R Journal</EM> 3 (2011), pp. 510. URL: <a href="http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf</a>.</cite>
</p>
<p>
<a id='bib-devtools'></a><a href="#cite-devtools">[11]</a><cite> H. Wickham and W. Chang. <EM>devtools: Tools to make developing R code easier</EM>. R package version 1.6. 2014. URL: <a href="http://CRAN.R-project.org/package=devtools">http://CRAN.R-project.org/package=devtools</a>.</cite>
</p>
<p>
<a id='bib-roxygen2'></a><a href="#cite-roxygen2">[12]</a><cite> H. Wickham, P. Danenberg and M. Eugster. <EM>roxygen2: In-source documentation for R</EM>. R package version 4.0.2. 2014. URL: <a href="http://CRAN.R-project.org/package=roxygen2">http://CRAN.R-project.org/package=roxygen2</a>.</cite>
</p>
<p>
<a id='bib-formatR'></a><a href="#cite-formatR">[13]</a><cite> Y. Xie. <EM>formatR: Format R Code Automatically</EM>. R package version 1.0. 2014. URL: <a href="http://CRAN.R-project.org/package=formatR">http://CRAN.R-project.org/package=formatR</a>.</cite>
</p>
<p>
<a id='bib-knitr'></a><a href="#cite-knitr">[14]</a><cite> Y. Xie. <EM>knitr: A general-purpose package for dynamic report generation in R</EM>. R package version 1.6. 2014. URL: <a href="http://yihui.name/knitr/">http://yihui.name/knitr/</a>.</cite>
</p>
</div>
<h1>Reproducibility</h1>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">## To render this page use:
source('render.R')</code></pre>
</div>
<p>Packages used:</p>
<div class="row">
<button class="message R toggle btn btn-xs btn-info">
<span class="glyphicon glyphicon-chevron-down"></span> R message
</button>
<pre style=""><code class="message r">## Session info-----------------------------------------------------------------------------
</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-up"></span> R output
</button>
<pre style="display:none"><code class="output r">##  setting  value                       
##  version  R version 3.1.1 (2014-07-10)
##  system   x86_64, darwin10.8.0        
##  ui       AQUA                        
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  tz       America/New_York
</code></pre>
<button class="message R toggle btn btn-xs btn-info">
<span class="glyphicon glyphicon-chevron-down"></span> R message
</button>
<pre style=""><code class="message r">## Packages---------------------------------------------------------------------------------
</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-up"></span> R output
</button>
<pre style="display:none"><code class="output r">##  package        * version  date       source                                   
##  bibtex           0.3.6    2013-07-29 CRAN (R 3.1.0)                           
##  devtools         1.6      2014-09-23 CRAN (R 3.1.1)                           
##  digest           0.6.4    2013-12-03 CRAN (R 3.1.0)                           
##  evaluate         0.5.5    2014-04-29 CRAN (R 3.1.0)                           
##  formatR          1.0      2014-08-25 CRAN (R 3.1.1)                           
##  htmltools        0.2.6    2014-09-08 CRAN (R 3.1.1)                           
##  httr             0.5      2014-09-02 CRAN (R 3.1.1)                           
##  knitcitations  * 1.0.2    2014-09-30 Github (cboettig/knitcitations@f567713)  
##  knitr            1.6      2014-05-25 CRAN (R 3.1.0)                           
##  knitrBootstrap   1.0.0    2014-09-30 Github (jimhester/knitrBootstrap@76c41f0)
##  lubridate        1.3.3    2013-12-31 CRAN (R 3.1.0)                           
##  markdown         0.7.4    2014-08-24 CRAN (R 3.1.1)                           
##  memoise          0.2.1    2014-04-22 CRAN (R 3.1.0)                           
##  plyr             1.8.1    2014-02-26 CRAN (R 3.1.0)                           
##  Rcpp             0.11.3   2014-09-29 CRAN (R 3.1.1)                           
##  RCurl            1.95.4.3 2014-07-29 CRAN (R 3.1.1)                           
##  RefManageR       0.8.34   2014-08-19 CRAN (R 3.1.1)                           
##  RJSONIO          1.3.0    2014-07-28 CRAN (R 3.1.1)                           
##  rmarkdown      * 0.3.3    2014-09-17 CRAN (R 3.1.1)                           
##  rstudioapi       0.1      2014-03-27 CRAN (R 3.1.0)                           
##  stringr          0.6.2    2012-12-06 CRAN (R 3.1.0)                           
##  XML              3.98.1.1 2013-06-20 CRAN (R 3.1.0)                           
##  yaml             2.1.13   2014-06-12 CRAN (R 3.1.0)
</code></pre>
</div>
<p>Date this page was last rendered:</p>
<div class="row">
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "2014-10-04 12:25:42 EDT"
</code></pre>
</div>
</div>
</div>
<div class="navbar navbar-fixed-bottom navbar-inverse">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
<span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
</button>
</div>
<div id="bottom-navbar" class="navbar-collapse collapse navbar-responsive-collapse">
<ul class="nav navbar-nav navbar-right">
<li class="nav">
<p class="navbar-text">
Toggle
</p>
</li>
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Code <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">
Languages
</li>
<li class="active">
<a href="#" class="toggle-global source R" type="source.R">R</a>
</li>
<li>
<a href="#" type="all-source" class="toggle-global">All</a>
</li>
</ul>
</li>
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Output <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">
Type
</li>
<li class="active">
<a href="#" class="toggle-global message" type="message">message</a>
</li>
<li class="active">
<a href="#" class="toggle-global output" type="output">output</a>
</li>
<li>
<a href="#" type="all-output" class="toggle-global">All</a>
</li>
</ul>
</li>
<li class="active">
<a href="#" type="figure" class="toggle-global">Figures</a>
</li>
</ul>
<ul class="nav navbar-nav navbar-left">
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Bootstrap theme <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="active">
<a class="theme-switch" title="Default" href="#">Default</a>
</li>
<li>
<a class="theme-switch" title="Amelia" href="#">Amelia</a>
</li>
<li>
<a class="theme-switch" title="Cerulean" href="#">Cerulean</a>
</li>
<li>
<a class="theme-switch" title="Cosmo" href="#">Cosmo</a>
</li>
<li>
<a class="theme-switch" title="Cyborg" href="#">Cyborg</a>
</li>
<li>
<a class="theme-switch" title="Journal" href="#">Journal</a>
</li>
<li>
<a class="theme-switch" title="Flatly" href="#">Flatly</a>
</li>
<li>
<a class="theme-switch" title="Readable" href="#">Readable</a>
</li>
<li>
<a class="theme-switch" title="Simplex" href="#">Simplex</a>
</li>
<li>
<a class="theme-switch" title="Slate" href="#">Slate</a>
</li>
<li>
<a class="theme-switch" title="Spacelab" href="#">Spacelab</a>
</li>
<li>
<a class="theme-switch" title="United" href="#">United</a>
</li>
</ul>
</li>
</ul>
<ul class="nav navbar-nav navbar-left">
<li class="dropup">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Code highlighting <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="active">
<a class="highlight-switch" title="HighlightJs" href="#">HighlightJs</a>
</li>
<li>
<a class="highlight-switch" title="Dark" href="#">Dark</a>
</li>
<li>
<a class="highlight-switch" title="Far" href="#">Far</a>
</li>
<li>
<a class="highlight-switch" title="Idea" href="#">Idea</a>
</li>
<li>
<a class="highlight-switch" title="Sunburst" href="#">Sunburst</a>
</li>
<li>
<a class="highlight-switch" title="Zenburn" href="#">Zenburn</a>
</li>
<li>
<a class="highlight-switch" title="Visual Studio" href="#">Visual Studio</a>
</li>
<li>
<a class="highlight-switch" title="Ascetic" href="#">Ascetic</a>
</li>
<li>
<a class="highlight-switch" title="Magula" href="#">Magula</a>
</li>
<li>
<a class="highlight-switch" title="Github" href="#">Github</a>
</li>
<li>
<a class="highlight-switch" title="Google Code" href="#">Google Code</a>
</li>
<li>
<a class="highlight-switch" title="Brown Paper" href="#">Brown Paper</a>
</li>
<li>
<a class="highlight-switch" title="School Book" href="#">School Book</a>
</li>
<li>
<a class="highlight-switch" title="IR Black" href="#">IR Black</a>
</li>
<li>
<a class="highlight-switch" title="Solarized - Dark" href="#">Solarized - Dark</a>
</li>
<li>
<a class="highlight-switch" title="Solarized - Light" href="#">Solarized - Light</a>
</li>
<li>
<a class="highlight-switch" title="Arta" href="#">Arta</a>
</li>
<li>
<a class="highlight-switch" title="Monokai" href="#">Monokai</a>
</li>
<li>
<a class="highlight-switch" title="Xcode" href="#">Xcode</a>
</li>
<li>
<a class="highlight-switch" title="Pojoaque" href="#">Pojoaque</a>
</li>
<li>
<a class="highlight-switch" title="Rainbow" href="#">Rainbow</a>
</li>
<li>
<a class="highlight-switch" title="Tomorrow" href="#">Tomorrow</a>
</li>
<li>
<a class="highlight-switch" title="Tomorrow Night" href="#">Tomorrow Night</a>
</li>
<li>
<a class="highlight-switch" title="Tomorrow Night Bright" href="#">Tomorrow Night Bright</a>
</li>
<li>
<a class="highlight-switch" title="Tomorrow Night Blue" href="#">Tomorrow Night Blue</a>
</li>
<li>
<a class="highlight-switch" title="Tomorrow Night Eighties" href="#">Tomorrow Night Eighties</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" title="Default" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/amelia/bootstrap.min.css" title="Amelia" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cerulean/bootstrap.min.css" title="Cerulean" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cosmo/bootstrap.min.css" title="Cosmo" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cyborg/bootstrap.min.css" title="Cyborg" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/journal/bootstrap.min.css" title="Journal" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/flatly/bootstrap.min.css" title="Flatly" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/readable/bootstrap.min.css" title="Readable" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/simplex/bootstrap.min.css" title="Simplex" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/slate/bootstrap.min.css" title="Slate" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" title="Spacelab" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/united/bootstrap.min.css" title="United" media="screen"></link><link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" title="HighlightJs" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/dark.min.css" title="Dark" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/far.min.css" title="Far" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/idea.min.css" title="Idea" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/sunburst.min.css" title="Sunburst" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/zenburn.min.css" title="Zenburn" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/vs.min.css" title="Visual Studio" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/ascetic.min.css" title="Ascetic" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/magula.min.css" title="Magula" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/github.min.css" title="Github" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/googlecode.min.css" title="Google Code" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/brown_paper.min.css" title="Brown Paper" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/school_book.min.css" title="School Book" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/ir_black.min.css" title="IR Black" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/solarized_dark.min.css" title="Solarized - Dark" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/solarized_light.min.css" title="Solarized - Light" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/arta.min.css" title="Arta" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/monokai.min.css" title="Monokai" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/xcode.min.css" title="Xcode" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/pojoaque.min.css" title="Pojoaque" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/rainbow.min.css" title="Rainbow" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow.min.css" title="Tomorrow" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow-night.min.css" title="Tomorrow Night" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow-night-bright.min.css" title="Tomorrow Night Bright" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow-night-blue.min.css" title="Tomorrow Night Blue" media="screen"></link> <link rel="alternate stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow-night-eighties.min.css" title="Tomorrow Night Eighties" media="screen"></link>
</div>
<div id="push">

</div>
<div id="footer">
<div class="container">
<p class="text-muted" id="credit">
Styled with <a href="https://github.com/jimhester/knitrBootstrap">knitrBootstrap</a>
</p>
</div>
</div>
<link rel="stylesheet" id="theme" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" media="screen"></link><link rel="stylesheet" id="highlight" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" media="screen"></link>
</div>
</body>
</html>
